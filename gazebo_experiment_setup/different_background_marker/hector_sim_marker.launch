<?xml version="1.0"?>
<launch>

  
  <!-- Start Gazebo with empty_green_world -->
  <arg name="world_path" default="$(find rover_tracking)/worlds/empty_green_world.world"/>
  
  <!-- Start Gazebo directly with the correct world -->
  <node name="gazebo" pkg="gazebo_ros" type="gazebo" args="-world $(arg world_path)" required="true" output="screen"/>
  
  <!-- Spawn Custom Green Ground Plane -->
  <!--node name="spawn_ground_plane" pkg="gazebo_ros" type="spawn_model"
        args="-file $(find rover_tracking)/models/custom_ground_plane/model.sdf -sdf -model custom_ground_plane -x 0 -y 0 -z 0" /-->

  
  <!-- Spawn Hector Quadrotor with downward camera -->
  <group ns="hector">
    <param name="tf_prefix" value="hector_tf" />

    <!-- Include the spawn_quadrotor.launch file -->
    <include file="$(find hector_quadrotor_gazebo)/launch/spawn_quadrotor.launch" >
      <!-- Set the model to the downward camera version -->
      <arg name="model" value="$(find hector_quadrotor_description)/urdf/quadrotor_downward_cam.gazebo.xacro"/>

      <!-- Define other spawn_quadrotor.launch arguments -->
      <arg name="name" value="hector_quadrotor"/> <!-- Name of the robot model -->
      <arg name="x" value="1"/> 
      <arg name="y" value="1"/> 
      <arg name="z" value="0.0"/> 


    </include>
  </group>
  
  <!-- Spawn the Husky model in Gazebo -->
  <!--node name="spawn_husky_model" pkg="gazebo_ros" type="spawn_model" args="-param robot_description -urdf -model husky -x 0 -y 0 -z 0" /-->
  <rosparam file="$(find rover_tracking)/config/husky_control.yaml" command="load"/>
  <param name="robot_description" command="$(find xacro)/xacro '$(find rover_tracking)/models/custom_husky/husky.urdf.xacro'"/>
  <node name="spawn_husky_model" pkg="gazebo_ros" type="spawn_model" args="-param robot_description -urdf -model husky -x 0 -y 0 -z 0" />

</launch>

